<div class="page" fxLayout="column" fxLayoutGap="20px">
  <div fxLayout="column" fxLayoutGap="10px">
    <span>Базові характеристики</span>
    <div class="table-row" fxLayout="row" fxLayoutAlign="space-between center">
      <div>
        <img [src]="attributes[0].url" alt="icon" class="attribute-icon">
        <span class="at-name">{{ attributes[0].name }}</span>
      </div>
      <span class="value">{{ this.knight?.baseHp }}</span>
    </div>
    <div class="table-row" fxLayout="row" fxLayoutAlign="space-between center">
      <div>
        <img [src]="attributes[1].url" alt="icon" class="attribute-icon">
        <span class="at-name">{{ attributes[1].name }}</span>
      </div>
      <span fxLayout="row" fxLayoutGap="10px">
        <span class="value">{{ this.knight?.baseDamage }}</span>
        <span class="additional-value">+{{ this.knight?.additionalDamage }}</span>
      </span>
    </div>
    <div class="table-row" fxLayout="row" fxLayoutAlign="space-between center">
      <div>
        <img [src]="attributes[2].url" alt="icon" class="attribute-icon">
        <span class="at-name">{{ attributes[2].name }}</span>
      </div>
      <span class="value">{{ this.knight?.baseArmour }}</span>
    </div>
    <div class="table-row" fxLayout="row" fxLayoutAlign="space-between center">
      <div>
        <img [src]="attributes[3].url" alt="icon" class="attribute-icon">
        <span class="at-name">{{ attributes[3].name }}</span>
      </div>
      <span class="value">{{ this.knight?.elementalMastery }}</span>
    </div>
    <div class="table-row" fxLayout="row" fxLayoutAlign="space-between center">
      <div>
        <img [src]="attributes[4].url" alt="icon" class="attribute-icon">
        <span class="at-name">{{ attributes[4].name }}</span>
      </div>
      <span class="value">{{ this.knight?.critRate }} %</span>
    </div>
    <div class="table-row" fxLayout="row" fxLayoutAlign="space-between center">
      <div>
        <img [src]="attributes[5].url" alt="icon" class="attribute-icon">
        <span class="at-name">{{ attributes[5].name }}</span>
      </div>
      <span class="value">{{ this.knight?.critDamage }} %</span>
    </div>
    <div class="table-row" fxLayout="row" fxLayoutAlign="space-between center">
      <div>
        <img [src]="attributes[6].url" alt="icon" class="attribute-icon">
        <span class="at-name">{{ attributes[6].name }}</span>
      </div>
      <span class="value">{{ this.knight?.energyRecharge }} %</span>
    </div>
  </div>
  <div fxLayout="column" fxLayoutGap="10px">
    <span>Екіпірування</span>
    <div class="card-row" fxLayout="row" fxLayoutGap="20px">
      <div class="card" (click)="onItemToggle('weapon')"  [ngClass]="{'active' : this.isActiveWeapon}">
        @if (this.knight?.sword) {
          <div class="rariry-background"
               [ngClass]="{'legendary': this.knight?.sword?.rarity === 'LEGENDARY',
                 'elegant': this.knight?.sword?.rarity === 'ELEGANT',
                 'common': this.knight?.sword?.rarity === 'COMMON'}" fxLayoutAlign="center center">
            <img src="assets/icons/sword.svg" alt="sword" width="40" height="40">
          </div>
          <div class="stars">
            <i class="fa-solid fa-star"></i>
            <i class="fa-solid fa-star"></i>
            <i class="fa-solid fa-star"></i>
            @if (this.knight?.sword?.rarity === 'ELEGANT') {
              <i class="fa-solid fa-star"></i>
            }
            @if (this.knight?.sword?.rarity === 'LEGENDARY') {
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
            }
          </div>
          <div class="level-background" fxLayoutAlign="center center">
            <span>+{{ this.knight?.sword?.level }}</span>
          </div>
        } @else {
          <div class="no-item" fxLayoutAlign="center center">
            <i class="fa-solid fa-xmark"></i>
          </div>
        }
      </div>
      <div class="card" (click)="onItemToggle('helmet')"  [ngClass]="{'active' : this.isActiveHelmet}">
        @if (this.knight?.helmet) {
          <div class="rariry-background"
               [ngClass]="{'legendary': this.knight?.helmet?.rarity === 'LEGENDARY',
                 'elegant': this.knight?.helmet?.rarity === 'ELEGANT',
                 'common': this.knight?.helmet?.rarity === 'COMMON'}" fxLayoutAlign="center center">
            <img src="assets/icons/helmet.svg" alt="sword" width="40" height="40">
          </div>
          <div class="stars">
            <i class="fa-solid fa-star"></i>
            <i class="fa-solid fa-star"></i>
            <i class="fa-solid fa-star"></i>
            @if (this.knight?.helmet?.rarity === 'ELEGANT') {
              <i class="fa-solid fa-star"></i>
            }
            @if (this.knight?.helmet?.rarity === 'LEGENDARY') {
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
            }
          </div>
          <div class="level-background" fxLayoutAlign="center center">
            <span>+{{ this.knight?.helmet?.level }}</span>
          </div>
        } @else {
          <div class="no-item" fxLayoutAlign="center center">
            <i class="fa-solid fa-xmark"></i>
          </div>
        }
      </div>
      <div class="card" (click)="onItemToggle('cloak')" [ngClass]="{'active' : this.isActiveCloak}">
        @if (this.knight?.cloak) {
          <div class="rariry-background"
               [ngClass]="{'legendary': this.knight?.cloak?.rarity === 'LEGENDARY',
                 'elegant': this.knight?.cloak?.rarity === 'ELEGANT',
                 'common': this.knight?.cloak?.rarity === 'COMMON'}" fxLayoutAlign="center center">
            <img src="assets/icons/cloak.svg" alt="sword" width="40" height="40">
          </div>
          <div class="stars">
            <i class="fa-solid fa-star"></i>
            <i class="fa-solid fa-star"></i>
            <i class="fa-solid fa-star"></i>
            @if (this.knight?.cloak?.rarity === 'ELEGANT') {
              <i class="fa-solid fa-star"></i>
            }
            @if (this.knight?.cloak?.rarity === 'LEGENDARY') {
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
            }
          </div>
          <div class="level-background" fxLayoutAlign="center center">
            <span>+{{ this.knight?.cloak?.level }}</span>
          </div>
        } @else {
          <div class="no-item" fxLayoutAlign="center center">
            <i class="fa-solid fa-xmark"></i>
          </div>
        }
      </div>
      <div class="card" (click)="onItemToggle('chestplate')"  [ngClass]="{'active' : this.isActiveChestplate}">
        @if (this.knight?.chestplate) {
          <div class="rariry-background"
               [ngClass]="{'legendary': this.knight?.chestplate?.rarity === 'LEGENDARY',
                 'elegant': this.knight?.chestplate?.rarity === 'ELEGANT',
                 'common': this.knight?.chestplate?.rarity === 'COMMON'}" fxLayoutAlign="center center">
            <img src="assets/icons/chestplate.svg" alt="sword" width="40" height="40">
          </div>
          <div class="stars">
            <i class="fa-solid fa-star"></i>
            <i class="fa-solid fa-star"></i>
            <i class="fa-solid fa-star"></i>
            @if (this.knight?.chestplate?.rarity === 'ELEGANT') {
              <i class="fa-solid fa-star"></i>
            }
            @if (this.knight?.chestplate?.rarity === 'LEGENDARY') {
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
            }
          </div>
          <div class="level-background" fxLayoutAlign="center center">
            <span>+{{ this.knight?.chestplate?.level }}</span>
          </div>
        } @else {
          <div class="no-item" fxLayoutAlign="center center">
            <i class="fa-solid fa-xmark"></i>
          </div>
        }
      </div>
      <div class="card" (click)="onItemToggle('boots')"  [ngClass]="{'active' : this.isActiveBoots}">
        @if (this.knight?.boots) {
          <div class="rariry-background"
               [ngClass]="{'legendary': this.knight?.boots?.rarity === 'LEGENDARY',
                 'elegant': this.knight?.boots?.rarity === 'ELEGANT',
                 'common': this.knight?.boots?.rarity === 'COMMON'}" fxLayoutAlign="center center">
            <img src="assets/icons/boots.svg" alt="sword" width="40" height="40">
          </div>
          <div class="stars">
            <i class="fa-solid fa-star"></i>
            <i class="fa-solid fa-star"></i>
            <i class="fa-solid fa-star"></i>
            @if (this.knight?.boots?.rarity === 'ELEGANT') {
              <i class="fa-solid fa-star"></i>
            }
            @if (this.knight?.boots?.rarity === 'LEGENDARY') {
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
            }
          </div>
          <div class="level-background" fxLayoutAlign="center center">
            <span>+{{ this.knight?.boots?.level }}</span>
          </div>
        } @else {
          <div class="no-item" fxLayoutAlign="center center">
            <i class="fa-solid fa-xmark"></i>
          </div>
        }
      </div>
    </div>
    <p-toast position="bottom-right"/>
    <div fxLayout="row" fxLayoutGap="30px">
      <button
        pButton
        label="Згенерувати предмет"
        class="generate-button" (click)="onGenerateItem()">
      </button>
      <button
        pButton
        label="Зняти предмет"
        [disabled]="!isActiveChestplate && !isActiveHelmet && !isActiveWeapon && !isActiveBoots && !isActiveCloak"
        class="delete-button" (click)="onDeleteItem()">
      </button>
    </div>
  </div>
</div>


<!--    <p-table [tableStyle]="{ 'min-width': '50rem' }">-->
<!--      <ng-template pTemplate="body">-->
<!--        <tr class="table-row">-->
<!--          <td class="attribute">-->
<!--            <img [src]="attributes[0].url" alt="icon" class="attribute-icon">-->
<!--            <span>{{attributes[0].name}}</span>-->
<!--          </td>-->
<!--          <td class="value">{{this.knight?.baseHp}}</td>-->
<!--        </tr>-->
<!--        <tr class="table-row">-->
<!--          <td class="attribute">-->
<!--            <img [src]="attributes[1].url" alt="icon" class="attribute-icon">-->
<!--            <span>{{attributes[1].name}}</span>-->
<!--          </td>-->
<!--          <td class="value">{{this.knight?.baseDamage}}</td>-->
<!--        </tr>-->
<!--        <tr class="table-row">-->
<!--          <td class="attribute">-->
<!--            <img [src]="attributes[2].url" alt="icon" class="attribute-icon">-->
<!--            <span>{{attributes[2].name}}</span>-->
<!--          </td>-->
<!--          <td class="value">{{this.knight?.baseArmour}}</td>-->
<!--        </tr>-->
<!--        <tr class="table-row">-->
<!--          <td class="attribute">-->
<!--            <img [src]="attributes[3].url" alt="icon" class="attribute-icon">-->
<!--            <span>{{attributes[3].name}}</span>-->
<!--          </td>-->
<!--          <td class="value">{{this.knight?.elementalMastery}}</td>-->
<!--        </tr>-->
<!--        <tr class="table-row">-->
<!--          <td class="attribute">-->
<!--            <img [src]="attributes[4].url" alt="icon" class="attribute-icon">-->
<!--            <span>{{attributes[4].name}}</span>-->
<!--          </td>-->
<!--          <td class="value">{{this.knight?.critRate}}</td>-->
<!--        </tr>-->
<!--        <tr class="table-row">-->
<!--          <td class="attribute">-->
<!--            <img [src]="attributes[5].url" alt="icon" class="attribute-icon">-->
<!--            <span>{{attributes[5].name}}</span>-->
<!--          </td>-->
<!--          <td class="value">{{this.knight?.critDamage}}</td>-->
<!--        </tr>-->
<!--        <tr class="table-row">-->
<!--          <td class="attribute">-->
<!--            <img [src]="attributes[6].url" alt="icon" class="attribute-icon">-->
<!--            <span>{{attributes[6].name}}</span>-->
<!--          </td>-->
<!--          <td class="value">{{this.knight?.energyRecharge}}</td>-->
<!--        </tr>-->
<!--      </ng-template>-->
<!--    </p-table>-->
